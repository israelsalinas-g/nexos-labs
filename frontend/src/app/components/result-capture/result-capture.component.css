.page { padding: 24px; max-width: 1100px; margin: 0 auto; }

.page-header {
  display: flex;
  align-items: center;
  gap: 16px;
  margin-bottom: 28px;
  flex-wrap: wrap;
}

.header-info { flex: 1; display: flex; flex-direction: column; gap: 4px; }
.header-info h1 { font-size: 20px; font-weight: 700; margin: 0; color: var(--color-text); }
.order-number { font-size: 13px; font-weight: 600; color: var(--color-primary); }
.patient-name { font-size: 14px; color: var(--color-text-muted); }

.progress-info { display: flex; gap: 8px; flex-wrap: wrap; }
.progress-badge {
  padding: 4px 12px;
  border-radius: 12px;
  font-size: 12px;
  font-weight: 600;
}
.progress-badge.completed { background: #dcfce7; color: #166534; }
.progress-badge.pending { background: #fef9c3; color: #854d0e; }

.btn-back {
  background: none;
  border: 1px solid var(--color-border);
  padding: 7px 14px;
  border-radius: 6px;
  cursor: pointer;
  font-size: 13px;
  color: var(--color-text-muted);
  white-space: nowrap;
}
.btn-back:hover { background: var(--color-surface-alt); }

.loading-state, .error-state, .empty-state {
  text-align: center; padding: 60px 24px;
  color: var(--color-text-muted); font-size: 15px;
}
.error-state { color: var(--color-danger); }
.empty-state { display: flex; flex-direction: column; align-items: center; gap: 16px; }

/* Results grid */
.results-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
  gap: 16px;
}

/* Result card */
.result-card {
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: 10px;
  padding: 16px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  transition: border-color 0.2s;
}
.result-card.saved { border-color: #86efac; }
.result-card.abnormal { border-color: #fca5a5; }

.card-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 8px;
}

.test-info { display: flex; flex-direction: column; gap: 3px; }
.test-name { font-size: 15px; font-weight: 600; color: var(--color-text); }
.test-code { font-size: 11px; color: var(--color-text-muted); background: var(--color-surface-alt); padding: 1px 6px; border-radius: 4px; display: inline-block; }
.test-unit { font-size: 12px; color: var(--color-primary); }

.status-indicators { display: flex; gap: 6px; align-items: center; flex-shrink: 0; }
.abnormal-badge { font-size: 12px; color: #991b1b; background: #fee2e2; padding: 3px 8px; border-radius: 10px; font-weight: 600; }
.normal-badge { font-size: 12px; color: #166534; background: #dcfce7; padding: 3px 8px; border-radius: 10px; font-weight: 600; }
.saved-badge { font-size: 16px; }

/* Input area */
.input-area { display: flex; flex-direction: column; gap: 8px; }

.numeric-input-group { display: flex; align-items: center; gap: 8px; }
.result-input {
  flex: 1;
  padding: 9px 12px;
  border: 2px solid var(--color-border);
  border-radius: 7px;
  font-size: 18px;
  font-weight: 700;
  background: var(--color-surface);
  color: var(--color-text);
  transition: border-color 0.2s;
}
.result-input:focus { outline: none; border-color: var(--color-primary); }
.result-input.abnormal-input { border-color: #ef4444; }
.result-input.normal-input { border-color: #22c55e; }
.input-unit { font-size: 13px; color: var(--color-text-muted); white-space: nowrap; }

.result-textarea {
  width: 100%;
  padding: 9px 12px;
  border: 1px solid var(--color-border);
  border-radius: 7px;
  font-size: 14px;
  background: var(--color-surface);
  color: var(--color-text);
  resize: vertical;
  box-sizing: border-box;
}
.result-textarea:focus { outline: none; border-color: var(--color-primary); }

/* Enum options */
.enum-options { display: flex; flex-wrap: wrap; gap: 6px; }
.option-btn {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 7px 12px;
  border: 1.5px solid var(--color-border);
  border-radius: 20px;
  cursor: pointer;
  font-size: 13px;
  color: var(--color-text);
  transition: all 0.15s;
}
.option-btn:hover { border-color: var(--color-primary); }
.option-btn.selected { border-color: var(--color-primary); background: color-mix(in srgb, var(--color-primary) 12%, transparent); font-weight: 600; }
.option-btn input { display: none; }
.opt-dot { width: 10px; height: 10px; border-radius: 50%; flex-shrink: 0; }
.no-options { font-size: 13px; color: var(--color-text-muted); }

.item-error { font-size: 12px; color: var(--color-danger); margin: 0; }

/* Card footer */
.card-footer { display: flex; justify-content: flex-end; }
.btn-save {
  padding: 8px 16px;
  border-radius: 6px;
  border: none;
  cursor: pointer;
  font-size: 13px;
  font-weight: 600;
  background: var(--color-primary);
  color: white;
  transition: all 0.2s;
}
.btn-save:hover:not(:disabled) { opacity: 0.85; }
.btn-save:disabled { opacity: 0.5; cursor: not-allowed; }
.btn-save.btn-saved { background: var(--color-surface-alt); color: var(--color-text); border: 1px solid var(--color-border); }

.btn { padding: 9px 18px; border-radius: 7px; font-size: 14px; font-weight: 500; cursor: pointer; border: none; }
.btn-primary { background: var(--color-primary); color: white; }

@media (max-width: 600px) {
  .results-grid { grid-template-columns: 1fr; }
}
